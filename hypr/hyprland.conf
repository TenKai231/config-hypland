wsource = ~/.cache/wal/colors-hyprland.conf

# --- MONITOR ---
# 1. ATURAN LAPTOP (Tuan Rumah)
# Biarkan dia jalan di performa maksimal (165Hz) dan ukuran normal
monitor=eDP-1,1920x1080@165,0x0,1

# 2. ATURAN TV (Tamu) - MODE EXTEND
# Kita paksa dia jalan di 4K (Tajam) tapi di 30Hz (Batas kabel)
# Posisi 'auto' artinya dia ada di sebelah kanan laptop
# monitor=HDMI-A-1,preferred,auto,1,mirror,eDP-1 
monitor=HDMI-A-1,preferred,auto,1

# --- APLIKASI UTAMA ---
# Kita pakai Konsole karena kamu dari KDE & Kitty tadi bermasalah
$terminal = kitty
$fileManager = dolphin
$menu = rofi -show drun


# --- AUTOSTART ---

# 1. SYSTEM SERVICES (Jalankan paling duluan biar lancar)
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = easyeffects --gapplication-service
# Ganti yang lama jadi ini:


# 2. AUTHENTICATION AGENT (Pilih SATU saja. Saya sarankan GNOME buat Hyprland)
# Kalau abang install 'polkit-gnome', pakai baris ini:
exec-once = nm-applet --indicator
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
# Kalau abang install 'polkit-kde-agent', pakai baris ini (pilih salah satu, hapus pagar #):
# exec-once = /usr/lib/polkit-kde-authentication-agent-1

# 3. UTAMA (Wallpaper, Bar, Notifikasi)
# Hapus yang lama, pakai ini:
exec-once = eww daemon
exec-once = swww-daemon --format argb
exec-once = swaync    # <--- INI RAJANYA SEKARANG (Dunst sudah dibuang)
exec-once = hypridle
exec-once = ~/.config/eww/scripts/watch-colors.sh
exec-once = sleep 2 && waybar
# Menjalankan pengawas Spicetify di background
exec-once = spicetify watch -s

# 4. ENVIRONMENT VARIABLES
env = QT_QPA_PLATFORMTHEME,qt6ct
env = XCURSOR_THEME,Bibata-Modern-Ice
env = XCURSOR_SIZE,24
exec-once = hyprctl setcursor Bibata-Modern-Ice 24

# 5. APLIKASI USER
exec-once = firefox

# 6 Kopipaste 
exec-once = wl-paste --type text --watch cliphist store # Simpan Teks
exec-once = wl-paste --type image --watch cliphist store # Simpan Gambar

# --- ENVIRONMENT ---
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct

source = ~/.cache/wal/colors-hyprland.conf

# --- INPUT KEYBOARD ---
input {
kb_layout = us
follow_mouse = 1
touchpad {
natural_scroll = no
}
sensitivity = 0
}



general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
    
    # Langsung panggil variabelnya aja
    # ...
    # JANGAN PAKAI rgb() LAGI DI SINI
    col.active_border = $color4 $color2 45deg
    col.inactive_border = $background

    layout = dwindle
}


decoration {
    rounding = 5

    # --- TAMBAHKAN 2 BARIS INI BIAR TRANSPARAN ---
    active_opacity = 0.987987321    # Transparansi saat jendela diklik (0.9 = 90%)
    inactive_opacity = 0.8   # Transparansi saat jendela tidak diklik (lebih pudar)
    # ---------------------------------------------

    blur {
        enabled = true
        size = 3
        passes = 1
        new_optimizations = true
        ignore_opacity = false
    }

    shadow {
        enabled = true
        range = 4
        render_power = 3
        color = rgba(1a1a1aee)
    }
}
# <--- Pastikan di sini sudah tidak ada simbol aneh lagi



animations {
enabled = yes
bezier = myBezier, 0.05, 0.9, 0.1, 1.05
animation = windows, 1, 7, myBezier
animation = windowsOut, 1, 7, default, popin 80%
animation = border, 1, 10, default
animation = borderangle, 1, 8, default
animation = fade, 1, 7, default
animation = workspaces, 1, 6, default
}

dwindle {
pseudotile = yes
preserve_split = yes
}

# --- SHORTCUTS (BINDINGS) ---
$mainMod = SUPER

# 1. Aplikasi
bind = $mainMod, Q, exec, $terminal
bind = $mainMod, C, killactive,          # CLOSE WINDOW (Penting!)
bind = $mainMod, M, exit,                # LOGOUT HYPRLAND
bind = $mainMod, E, exec, $fileManager   # Buka File Manager (Dolphin)
bind = $mainMod, V, togglefloating,      # Mode Mengambang
bind = $mainMod, R, exec, rofi -show drun -theme ~/.config/rofi/modern.rasi
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle
bind = $mainMod, B, exec, firefox
bind = $mainMod, K, exec, cliphist list | rofi -dmenu | cliphist decode | wl-copy
bind = SUPER, L, exec, hyprlock
bind = $mainMod, D, exec, rofi -show drun -theme ~/.config/rofi/style-hp.rasi
bind = SUPER, Delete, exec, eww open dashboard --toggle
# Shortcut Dashboard Baru (Win + Spasi)
bind = SUPER, SPACE, exec, ~/.config/eww/dashboard/launch_dashboard
# Contoh: Tekan WIN + W buat ganti wallpaper
bind = $mainMod, W, exec, ~/menu-tema.sh 
# --- FITUR MINIMIZE (LACI AJAIB) ---
# Tekan Super + S untuk membuka/tutup laci (Lihat/Sembunyikan jendela)
bind = SUPER, A, togglespecialworkspace, magic
# Tekan Super + Shift + S untuk melempar jendela aktif ke dalam laci
bind = SUPER SHIFT, A, movetoworkspace, special:magic
# 2. Pindah Fokus Window (Pakai Panah)
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# 3. Pindah Workspace (1-10)
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6


Analyzing imagebind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# 4. Geser Window ke Workspace Lain (Shift + Angka)
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5

# 5. Mouse Control
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# === SCREENSHOT (REVISI) ===

# --- SCREENSHOT SECTION ---

# 1. PrintScreen -> Full Layar (Simpan ke Folder)
# (Perintah mkdir -p gunanya buat bikin folder otomatis kalau belum ada)
bind = , Print, exec, mkdir -p ~/Pictures/Screenshots && grim ~/Pictures/Screenshots/Screenshot_$(date +'%Y%m%d_%H%M%S').png

# 2. Win + Print -> Full Layar (Copy ke Clipboard)
bind = SUPER, Print, exec, grim - | wl-copy

# 3. Win + Shift + S -> Pilih Area (Simpan ke Folder)
bind = SUPER SHIFT, S, exec, mkdir -p ~/Pictures/Screenshots && grim -g "$(slurp)" ~/Pictures/Screenshots/Screenshot_Area_$(date +'%Y%m%d_%H%M%S').png

# 4. (BONUS) Win + Shift + C -> Pilih Area (Copy ke Clipboard - Mirip Windows)
bind = SUPER SHIFT, C, exec, grim -g "$(slurp)" - | wl-copy
# === TOMBOL LAPTOP (AUDIO & BRIGHTNESS) ===

bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl  = , XF86AudioMute, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ toggle


# 2. Kecerahan Layar (Butuh brightnessctl)
binde = , XF86MonBrightnessUp, exec, brightnessctl s 5%+
binde = , XF86MonBrightnessDown, exec, brightnessctl s 5%-

# Menu Power (Shutdown/Restart)
bind = SUPER, Escape, exec, wlogout




# ====================================================
# ðŸ§  SMART WORKSPACE RULES (GANJIL-GENAP)
# ====================================================

# 1. MONITOR DEFINITION (Biar Aman)
# Laptop (eDP-1) selalu Monitor Utama
# TV (HDMI-A-1) selalu Monitor Kedua

# 2. WORKSPACE BINDING
# Laptop kebagian angka GANJIL (Buat kerja utama)
workspace = 1, monitor:eDP-1
workspace = 3, monitor:eDP-1
workspace = 5, monitor:eDP-1

# TV kebagian angka GENAP (Buat nonton/hiburan)
workspace = 2, monitor:HDMI-A-1
workspace = 4, monitor:HDMI-A-1
workspace = 6, monitor:HDMI-A-1

# ====================================================
# (Baris layerrule rofi yang bikin masalah tadi KOSONGKAN SAJA di sini)